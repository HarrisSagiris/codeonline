<!DOCTYPE html>
<script src="https://cdn.jsdelivr.net/pyodide/v0.18.1/full/pyodide.js"></script>
<script src="https://cdn.jsdelivr.net/npm/eslint@8.35.0/dist/eslint.min.js"></script>
<script src="https://apis.google.com/js/api.js"></script>
<html lang="en">
    <link rel="icon" href="favicon.ico" type="image/x-icon">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Codeonline</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
   <!-- templates dropdown -->
<select id="template-select">
    <option value="basic-html">Basic HTML</option>
    <option value="basic-css">Basic CSS</option>
    <option value="basic-js">Basic JavaScript</option>
</select>
<button id="insert-template">Insert Template</button>

    <div id="container">
        <div id="monaco-editor" style="height: 80vh; width: 100%;"></div>
        <div id="actions">
            <select id="language-select">
                <option value="javascript">JavaScript</option>
                <option value="html">HTML</option>
                <option value="css">CSS</option>
                <option value="python">Python</option>
                <option value="java">Java</option>
                <option value="cpp">C++</option>
                <option value="csharp">C#</option>
                <option value="ruby">Ruby</option>
                <option value="php">PHP</option>
                <option value="typescript">TypeScript</option>
                <option value="go">Go</option>
                <option value="swift">Swift</option>
            </select>
            <button onclick="openSaveModal()">Save Locally</button>
            <button onclick="openGitHubModal()">Upload to GitHub</button>
            
    <!-- Button to load a file -->
    <button id="load-file-btn">Load File from your device!</button>

    <!-- Hidden input for file selection -->
    <input type="file" id="file-input" accept=".txt,.js,.py,.html,.css,.json"/>

    <!-- Monaco Editor container -->
    <div id="editor"></div>

    <!-- Load Monaco Editor from CDN -->
    <script src="https://unpkg.com/monaco-editor@latest/min/vs/loader.js"></script>
<script>

// Handle Load File button click to trigger the file input
document.getElementById('load-file-btn').addEventListener('click', function() {
    document.getElementById('file-input').click(); // Trigger hidden file input
});

// Handle the file input change event (when a file is selected)
document.getElementById('file-input').addEventListener('change', function(event) {
    const file = event.target.files[0]; // Get the selected file

    if (file) {
        const reader = new FileReader(); // Create a FileReader instance

        // Once the file is loaded, put the content in the editor
        reader.onload = function(e) {
            const fileContents = e.target.result; 
            window.editor.setValue(fileContents); 
        };

        reader.readAsText(file); // Read the file as text
    }
});

</script>
            
            <!-- theme selector -->
<select id="theme-select">
    <option value="vs-dark">Dark</option>
    <option value="vs-light">Light</option>
</select>
<!-- terminal panel -->
<div id="terminal-panel">
    <div id="terminal"></div>
</div>
<!-- version control panel -->
<div id="version-control-panel">
    <button id="commit-changes">Commit Changes</button>
    <button id="view-history">View History</button>
    
</div>

</div>


        </div>
    </div>
   Welcome to Codeonline&#8482;, A website made by Harris Sagiris
   <p>Codeonline and other trademarks are registered trademarks of CodeonlineÂ©</p> For support : support@codeonline.gr
    <!-- Save Modal -->
    <div id="save-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeSaveModal()">&times;</span>
            <h2>Save File</h2>
            <form id="save-form" onsubmit="saveLocal(); return false;">
                <input type="text" id="file-name" placeholder="Enter file name" autofocus>
                <button type="submit">Save</button>
            </form>
        </div>
    </div>

    <!-- GitHub Modal -->
    <div id="github-modal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeGitHubModal()">&times;</span>
            <h2>Upload to GitHub</h2>
            <input type="text" id="github-token" placeholder="Enter GitHub token">
            <input type="text" id="repo-name" placeholder="Enter repository name (e.g., username/repo)">
            <input type="text" id="file-path" placeholder="Enter file path in repository (e.g., path/to/file.js)">
            <button onclick="uploadToGitHub()">Upload</button>
        </div>
    </div>
    

    <script src="https://www.gstatic.com/firebasejs/9.1.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.1.1/firebase-firestore.js"></script>
    <script src="firebase-config.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.33.0/min/vs/loader.js"></script>
    <script src="editor.js"></script>
</body>
</html>
